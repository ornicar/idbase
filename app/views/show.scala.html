@(doc: Doc)(implicit flash: Flash)

@import idbase.Helper._
@import idbase.{ Names => N }

@main("Notice : " + doc.meta.titre) {

<div class="container">
  @flashes()
  <p class="lead">
  Notice <strong class="muted">@doc.annee</strong>
  @doc.meta.titre<br />
  <a href="@doc.meta.url">@doc.meta.url</a>
  </p>
  @tableGroup("Cadre") {
  @row(N.niveau, doc.niveau mkString ", ")
  @row(N.interdisciplinarite, doc.interdisciplinarite mkString ", ")
  @row(N.dispositifPedagogique, doc.dispositifPedagogique)
  @row(N.dispositifEducatif, doc.dispositifEducatif)
  @row(N.duree, doc.meta.duree)
  }
  @tableGroup("Savoirs") {
  @rowHtml(N.notion) {
  @doc.notion.map { n =>
  <span class="label label-info">@n</span>
  }
  }
  @doc.meta.objectifT1.map { o =>
  @row(N.objectifT1, Markdown(o))
  }
  @doc.meta.objectifT2.map { o =>
  @row(N.objectifT2, Markdown(o))
  }
  @doc.meta.objectifT3.map { o =>
  @row(N.objectifT3, Markdown(o))
  }
  @row(N.evaluation, doc.meta.evaluation mkString ", ")
  @doc.meta.outilEvaluation.map { o =>
  @row(N.outilEvaluation, Markdown(o))
  }
  }
  @tableGroup("Enseignement") {
  @row(N.scenario, Markdown(doc.meta.scenario))
  @rowHtml(N.methodePedagogique) {
  @doc.methodePedagogique.map { n =>
  <span class="label label-success">@n</span>
  }
  }
  @row(N.deroulement, Markdown(doc.meta.deroulement))
  @doc.meta.outilDidactique.map { o =>
  @row(N.outilDidactique, Markdown(o))
  }
  }
  @tableGroup("Apprentissage") {
  @row(N.demarche, doc.meta.demarche mkString ", ")
  @row(N.tache, doc.meta.tache)
  @row(N.materiau, Markdown(doc.meta.materiau))
  @row(N.production, Markdown(doc.production))
  @doc.meta.ficheEleve.map { o =>
  @row(N.ficheEleve, Markdown(o))
  }
  }
  @tableGroup("Commentaire") {
  @row("", Markdown(doc.meta.commentaire))
  }
  @tableGroup(doc.source) {
  @row("", Markdown(doc.meta.reference))
  }

  <div class="form-actions">
    <a class="btn" href="@routes.Doc.editForm(doc.id)">Modifier</a>
    <form 
      class="delete" 
      style="display: inline" 
      action="@routes.Doc.delete(doc.id)" 
      method="post" 
      title="Supprimer la fiche @doc.meta.titre">
      <button class="btn btn-danger" href="@routes.Doc.delete(doc.id)">Supprimer</button>
    </form>
  </div>
</div>
}
